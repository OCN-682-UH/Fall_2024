<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Week 1b</title>
    <meta charset="utf-8" />
    <meta name="author" content="Dr. Nyssa Silbiger" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Week 1b
## Collecting and recording data
### Dr. Nyssa Silbiger
### CSUN Spring 2023
### (updated: 2023-01-24)

---


&lt;div style = "position:fixed; visibility: hidden"&gt;
`$$\require{color}\definecolor{yellow}{rgb}{1, 0.8, 0.16078431372549}$$`
`$$\require{color}\definecolor{orange}{rgb}{0.96078431372549, 0.525490196078431, 0.203921568627451}$$`
`$$\require{color}\definecolor{green}{rgb}{0, 0.474509803921569, 0.396078431372549}$$`
&lt;/div&gt;

&lt;script type="text/x-mathjax-config"&gt;
MathJax.Hub.Config({
  TeX: {
    Macros: {
      yellow: ["{\\color{yellow}{#1}}", 1],
      orange: ["{\\color{orange}{#1}}", 1],
      green: ["{\\color{green}{#1}}", 1]
    },
    loader: {load: ['[tex]/color']},
    tex: {packages: {'[+]': ['color']}}
  }
});
&lt;/script&gt;

&lt;style&gt;
.yellow {color: #FFCC29;}
.orange {color: #F58634;}
.green {color: #007965;}
&lt;/style&gt;




---
# Outline of class

1. Data dimensions 

1. Metadata

1. Create a data sheet for the field/lab

1. Create a data sheet for data analysis

These are different, but equally important tools for transparent data. 


&lt;img src="https://i1.wp.com/lookslikelanguage.com/wp-content/uploads/2016/09/Data-Download-Freebie-from-LLL_page_1.jpg?resize=778%2C1024&amp;ssl=1" /&gt;

---

# What are the dimensions of your data?

--
 
 ### - Number of complete observations
-  A water sample

-  A mouse in a trial

--

### - Number of things measured per observation
- In the water I measured pH, nitrate, and salinity

- I measured the height and weight of the mouse

---
# Wide data

 ### One observation per row and all the different variables are columns


| Sample ID| Treatment   |      Nitrate      | Temp | Salinity | 
|----------|:-------------:|------:|----:|-----:|
| 1 | High|  1.2 | 7.2| 34.1|
| 2 | High|    3.0   | 7.8| 34.0|
| 3 | Low |2.4 | 8.0|34.2|
| 4 | Low |5.1| 8.0| 33.0|
| 5 | Low| 1.1| 7.9| 34.5|


---

# Long  data

 ### One unique measurement per row and all the info about that measurement in the same row


| Sample ID| Treatment   |      Measurement_Type      | Value | Units | 
|----------|:-------------:|------:|----:|
| 1 | High|  Nitrate | 1.2| uM_L|
| 1 | High|    Temp   | 7.2| deg_C |
| 1 | High |Salinity | 34.1|psu|
| 2 | High |Nitrate| 3.0| uM_L|
| 2 | High| Temp| 7.9| deg_C|
| 2 | High| Salinity| 34.0| psu|


--

There are pros and cons to both depending on the type of data you collect. These will become more evident as you code throughout the semester.

---
# Hybrid data

 ### A mix of everything....
 
 ![Hybrid Example](libs/images/HybridData.PNG)
 
 --
 
 .center[
 &lt;img src="https://media.tenor.com/images/276d75f8d15629a6813c8dead58dfedb/tenor.gif" /&gt;
 ]
 
---
# What is metadata?

Metadata is simply data about **data**. It means it is a description and context of the data. It helps to organize, find and understand data.

--
 ## Typical metadata
 
 - Title and description  
 - Tags and categories  
 - Who created or collected the data and when  
 - Who last modified and when  
 - Who can access or update   
 - Units of measurements for each parameter  
 - Notes associated with the collection  


.footnote[https://dataedo.com/kb/data-glossary/what-is-metadata]

---
# We use metadata in our everyday lives

&lt;img src="https://dataedo.com/asset/img/kb/glossary/metadata_photo.png" /&gt;
.footnote[https://dataedo.com/kb/data-glossary/what-is-metadata]

---
# We use metadata in our everyday lives

.center[
&lt;img src="https://dataedo.com/asset/img/kb/glossary/metadata_book.png", width=75% /&gt;
]

.footnote[https://dataedo.com/kb/data-glossary/what-is-metadata]

---
# We use metadata in our everyday lives

.center[
&lt;img src="https://dataedo.com/asset/img/kb/glossary/metadata_secret_files.png
", width=75% /&gt;]

.footnote[https://dataedo.com/kb/data-glossary/what-is-metadata]

---
# What do you think is important metadata for your research?

--

### Required metadata for different biological databases

 - BCO-DMO (oceanographic data: [Dataset metadata form](https://www.bco-dmo.org/files/bcodmo/DATASET.rtf) )
 - NCBI (Sequence data/GenBank: [GenBank metadata](https://www.ncbi.nlm.nih.gov/genbank/structuredcomment/))
 - EML (Ecological metadata: [EML Guide](https://nceas.github.io/oss-lessons/ecological-metadata/ecological-metadata.html))


---


# Creating a good data collecting sheet

1. How easy is it to read?

1. Are column and row definitions clear?

1. Is there metadata?

1. How similar is it to your data entry sheet?

1. Can you use it at 4am?

&lt;img src="https://www.researchgate.net/profile/Emily_Saarinen/publication/283736006/figure/fig2/AS:355143120900097@1461684126256/A-sample-datasheet-for-field-work-and-tissue-collection.png" /&gt;

---
# Making a data sheet for the field/lab

Things to keep in mind when making a data sheet:
- Font size matters (will you be able to see it in the field easily?)

- Bolding can be helpful

- Have well defined lines

- Have a space to write down who took the data

- When were the data taken?

- Where were the data taken?

- Does your sheet fit on one piece of paper?

- Does it make more sense to have your sheet in landscape or portrait?

- Print and check out how your data sheet looks before it is finalized

- Do you have enough space to write your data into the boxes?

---

 ![Twitter 1](libs/images/FieldTwitter1.PNG)

---


 ![Twitter 2](libs/images/FieldTwitter2.PNG)

---
# NOT good field or lab data sheets?
.pull-left[
&lt;img src="https://c8.alamy.com/comp/AG65BN/writing-notes-on-paper-and-your-hand-AG65BN.jpg", width=100% /&gt;
]

.pull-right[
&lt;img src="https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,fl_progressive,g_center,h_675,pg_1,q_80,w_1200/zvjd5wnbeiptmfvqbto2.jpg", width=100%/&gt;
]


 .center[
  ## Keep a hard/original copy of everything]

---
# Creating good spreadsheets for analysis
### Tips from Browman and Woo (2017)

--

.pull-left[
  1: Be consistent  
 ]
 
--

.pull-left[ 
2: Choose good names  
 ]
--
 
 .pull-left[ 
 3: Write dates as YYYY-MM-DD 
 ]
--
 .pull-left[ 
 4: No empty cells  
 ]
--
 
 .pull-left[ 
 5: Just put one thing in a cell 
 ]
 
--
 
 .pull-left[ 
 6: Make it a rectangle  
 ]
 
--
 
.pull-left[ 
 7: Create a data dictionary  
 ]
 
--
 
 .pull-left[ 
 8: No calculations in the raw data file  
 ]
 
--
 
 .pull-left[ 
 9: Do not use color or highlights  
 ]
--
 
 .pull-left[ 
 10: Make back-ups  
 ]
--
 
 .pull-left[ 
 11: Use data validation to avoid errors  
 ]
 
--
 
 .pull-left[ 
 12: Save as plain text  
 ]

---
# 1. Be consistent

--

Use consistent terminology throughout:
 - Do: male/female; m/f; Male/Female
 - Do not: Male/female; M/female, or change throughout the data sheet

--

Use consistent variable names:
- Do: High_treatment/Low_treatment; Glucose_6wk/Glucose_10wk
- Do not: High_treatment/Treatment_14C; Glucode_6wk/ Glucose 10 weeks

--

Be careful with spaces! (I always copy and paste instead of typing each cell)
- Do not: "Site A"; " Site A"; "Site A " 

--

Use consistent file names:
- Do: CondData_S32_011721.csv; CondData_S32_011821.csv  
- Do not: S32_CondSensor_011821; CondData_S32_011921.csv

---
# 2. Choose good names
.pull-left[
### Avoid spaces in names:
- **Site 1**: Site_1; Site.1; Site1 are all options, though **Site_1** is best
- Be careful about extra spaces at the beginning or end of a variable (e.g. "high", " high" will mean different things to R)
]
--

.pull-left[
### Do not use special characters:
- ($, @, %, #, &amp;, *, (, ), !, /, etc.)
- These have different meanings in coding languages and can cause problems
]

--

Keep names *short, but meaningful*

![Table Names](libs/images/Tablenames.PNG)

---
# 2. Choose good names

.center[
### Never name a document as "final"... it is a curse.

&lt;img src="http://www.phdcomics.com/comics/archive/phd101212s.gif", width= 50%/&gt;
]
---
# 3. Write dates in ISO 8601 format
- YYYY-MM-DD (2021-01-23)
- excel can make lots of mistakes with different date formats

.center[
&lt;img src="https://imgs.xkcd.com/comics/iso_8601_2x.png"/, width= 50%&gt;
]


---

# 3. Write dates in ISO 8601 format
- YYYY-MM-DD (2021-01-23)
- excel can make lots of mistakes with different date formats

.pull-left[![joke1](libs/images/exceljoke1.png)]
.pull-right[![joke1](libs/images/exceljoke2.png)]

---

# 4. No empty cells in your word doc

- Missing data and 0 mean very different things. An empty box makes that information unknown.
- If data are missing put **NA** 
- If there are 0 counts of something put a **0**
- Do not leave it blanks

--

# 5. Put only one thing in each cell

- Plate example: Instead of plate-well as "13-A01", have one column for plate and one column for well (13, A01)
- Don't put units in your cells (this will come back when we talk about data dictionaries). (e.g., "46 g" is just 46). If you really want, you can have one column for the value (46) and one column for the units (g)
- Don't put your notes with the data (e.g., "0 below detection"). Just put a 0 and have another column for your notes

---
# 6. Make your spreadsheet a rectangle

- Only have one row for your variable names on top.  Do not have multiple rows of headers
- Make every row an individual measurement (or subject or sample ID) and every column one variable

--

.center[
### Bad examples:
![nonrectangle :scale 50%](libs/images/Nonrectangle.PNG){width=50%}
]

---
# 6. Make your spreadsheet a rectangle
- It is ok to have multiple rectangles, just put them on different spreadsheets

.center[
### Good examples:


![rectangle](libs/images/rectangle.PNG)
]

---
# 7 Make a data dictionary

### This will contain very important metadata for your datasheet
It should contain (at least):
- The exact variable name as in the data file  
- A version of the variable name that might be used in data
visualizations  (e.g. a "pretty name")  
- A longer explanation of what the variable means  
-  The measurement units  


.center[
![Data Dictionary](libs/images/DataDictionary.PNG)
]

---
# 8. **NO** calculations in your spreadsheets

### This is not transparent data analysis. Once your file is saved outside of excel (like a .csv), you may loose what those calculations are. 

 - This can lead to major errors in your data analysis that are not easily traceable 
 - All your calculations should be within your code for true transparency 
 
 .center[
 &lt;img src="https://support.content.office.net/en-us/media/57ea3b2d-19aa-4702-a767-4cafae64d142.png".&gt;
]
---
# 9. Do not use highlight or colors in your spreadsheet
- You will lose that information

.center[
### Ex. where an outlier is highlighted (left). What you should do (right).
![highlight](libs/images/highlight.PNG)
]

---
# 10. Make back-ups!!

### We will talk more about using an online repository called GitHub next week. 

Consider also using box, dropbox, or google drive.  Never have your data just on your hard drive.  Your future self will thank you.

.center[
This actually happened to me...

&lt;img src="https://image.shutterstock.com/image-photo/red-wine-spill-on-laptop-260nw-1411670672.jpg"/&gt;
]

---
# 11. Use data validation feature to avoid errors

In excel:
- Select a column
- In the menu bar, choose Data→ Validation
- Choose appropriate validation criteria. For example,    
  – A whole number in some range
  – A decimal number insome range
  – A list of possible values
  – Text, but with a limit on length
  
An error will pop-up when typing if it is outside the range

![excelerror](libs/images/excelerror.PNG)
---
# 12. Save data as plain text file

- Always save your spreadsheets as a .csv
- This is a non-proprietary format and can be opened in any spreadsheet program

.center[
&lt;img src="https://www.efilecabinet.com/wp-content/uploads/2019/03/csv-01.png" /&gt;
]
---
# What is wrong with this data sheet?

&lt;img src="https://njsilbiger.github.io/images/Week2/ShortFormat.png" /&gt;

---
# What is wrong with this data sheet?

 ![Lauren's data](libs/images/LaurenData.PNG)

---
# What about this one?
![Piper's data](libs/images/PiperData.PNG)

---

class: center, middle

# In lab today we will make a field/lab sheet, data sheet, and metadata (data dictionary).

But, first 10 minute break

---

class: center, middle

# Thanks!

Slides created via the R package [**xaringan**](https://github.com/yihui/xaringan).


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"highlightSpans": true,
"countIncrementalSlides": false,
"ratio": "15:10"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
